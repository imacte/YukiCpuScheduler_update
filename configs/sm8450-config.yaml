# 元数据信息
meta:
  name: "YukiCpuScheduler"
  author: "yuki"
  configVersion: 17
  loglevel: "INFO"

# 主要功能开关
function:
  DisableQcomGpu: true
  AffinitySetter: true
  CpuIdleScaling_Governor: false
  EasScheduler: true
  cpuset: true
  LoadBalancing: true
  EnableFeas: false
  AdjIOScheduler: true
  AppLaunchBoost: false
  EnableThreadAffinity: true

# 游戏帧率调谐器(测试阶段)
FrameRateTuner:
  enabled: false  # 设置为 true 来启用, false 禁用
  # 要控制的CPU策略集群ID。通常小核集群或中核集群比较敏感。
  # 0: 小核, 4: 中核, 7: 大核 (根据您的设备调整)
  # 建议先从单个集群开始，比如中核集群。
  cpu_policies:
    - 4
    - 7
  # 当帧率低于此值时，暂停微调并恢复原始频率设置 (单位: FPS)
  suspend_threshold_fps: 40
  # 稳定帧时间的下限 (单位: 毫秒)。当帧时间低于此值，会尝试降频。
  # 16.0ms 约等于 62.5 FPS
  stable_frametime_min_ms: 16.0
  # 稳定帧时间的上限 (单位: 毫秒)。当帧时间高于此值，会尝试提频。
  # 17.2ms 约等于 58.1 FPS
  stable_frametime_max_ms: 17.2
  # 每次提频/降频的档位数
  nudge_steps: 1
  # 允许提频的最大档位数 (相对于原始最低频率)，用于功耗保护
  max_freq_ceiling_steps: 10
  # 调整频率时是否同时锁定min和max频率。这可以提供更稳定的频率表现。
  lock_min_max_freq: true

# 待机模式配置
Standby:
  Enable: false
  ScreenOffDelay: 300

# 核心分配设置
CoreAllocation:
  cpusetCore: "4-7"
  cpuctlUclampBoostMin: "0"
  cpuctlUclampBoostMax: "100"

# 核心框架路径
CoreFramework:
  SmallCorePath: 0
  MediumCorePath: 4
  BigCorePath: 7
  SuperBigCorePath: -1

# IO 调度器设置
IO_Settings:
  Scheduler: ""
  IO_optimization: true

# 其他设置
Other:
  AdjQcomBus_dcvs: false

# EAS 调度器参数
EasSchedulerValue:
  sched_min_granularity_ns: "2000000"
  sched_nr_migrate: "30"
  sched_wakeup_granularity_ns: "3200000"
  sched_schedstats: "0"

# CPU 空闲设置
CpuIdle:
  current_governor: ""

# Cpuset 分组
Cpuset:
  top_app: "0-7"
  foreground: "0-7"
  restricted: "0-5"
  system_background: "1-2"
  background: "0-2"

# --- 性能模式 ---

# 省电模式
powersave:
  # 调速器
  Governor:
    global: "schedutil"
    SmallCore: ""
    MediumCore: ""
    BigCore: ""
    SuperBigCore: ""
  # 频率
  Freq:
    SmallCoreMinFreq: 500000
    SmallCoreMaxFreq: 1300000
    MediumCoreMinFreq: 600000
    MediumCoreMaxFreq: 1400000
    BigCoreMinFreq: 600000
    BigCoreMaxFreq: 1555000
    SuperBigCoreMinFreq: 0
    SuperBigCoreMaxFreq: 0
  # 频率限制
  Uclamp:
    UclampTopAppMin: "0"
    UclampTopAppMax: "100"
    UclampTopApplatency_sensitive: "0"
    UclampForeGroundMin: "0"
    UclampForeGroundMax: "70"
    UclampBackGroundMin: "0"
    UclampBackGroundMax: "50"
  # 其他设置
  Other:
    ufsClkGate: false

# 均衡模式
balance:
  # 调速器
  Governor:
    global: "walt"
    SmallCore: ""
    MediumCore: ""
    BigCore: ""
    SuperBigCore: ""
  # 频率
  Freq:
    SmallCoreMinFreq: 600000
    SmallCoreMaxFreq: 1500000
    MediumCoreMinFreq: 700000
    MediumCoreMaxFreq: 1800000
    BigCoreMinFreq: 800000
    BigCoreMaxFreq: 1800000
    SuperBigCoreMinFreq: 0
    SuperBigCoreMaxFreq: 0
  # 频率限制
  Uclamp:
    UclampTopAppMin: "0"
    UclampTopAppMax: "100"
    UclampTopApplatency_sensitive: "0"
    UclampForeGroundMin: "0"
    UclampForeGroundMax: "70"
    UclampBackGroundMin: "0"
    UclampBackGroundMax: "50"
  # 其他设置
  Other:
    ufsClkGate: false

# 性能模式
performance:
  # 调速器
  Governor:
    global: "schedutil"
    SmallCore: ""
    MediumCore: ""
    BigCore: ""
    SuperBigCore: ""
  # 频率
  Freq:
    SmallCoreMinFreq: 1000000
    SmallCoreMaxFreq: 1800000
    MediumCoreMinFreq: 1000000
    MediumCoreMaxFreq: 2000000
    BigCoreMinFreq: 1100000
    BigCoreMaxFreq: 2300000
    SuperBigCoreMinFreq: 0
    SuperBigCoreMaxFreq: 0
  # 频率限制
  Uclamp:
    UclampTopAppMin: "0"
    UclampTopAppMax: "100"
    UclampTopApplatency_sensitive: "1"
    UclampForeGroundMin: "0"
    UclampForeGroundMax: "80"
    UclampBackGroundMin: "0"
    UclampBackGroundMax: "50"
  # 其他设置
  Other:
    ufsClkGate: false

# 极速模式
fast:
  # 调速器
  Governor:
    global: "walt"
    SmallCore: ""
    MediumCore: ""
    BigCore: ""
    SuperBigCore: ""
  # 频率
  Freq:
    SmallCoreMinFreq: 1000000
    SmallCoreMaxFreq: "max"
    MediumCoreMinFreq: 1000000
    MediumCoreMaxFreq: "max"
    BigCoreMinFreq: 1100000
    BigCoreMaxFreq: "max"
    SuperBigCoreMinFreq: 0
    SuperBigCoreMaxFreq: 0
  # 频率限制
  Uclamp:
    UclampTopAppMin: "10"
    UclampTopAppMax: "100"
    UclampTopApplatency_sensitive: "1"
    UclampForeGroundMin: "0"
    UclampForeGroundMax: "80"
    UclampBackGroundMin: "0"
    UclampBackGroundMax: "50"
  # 其他设置
  Other:
    ufsClkGate: true